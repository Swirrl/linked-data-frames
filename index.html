<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Linked-Data-Frames • ldf</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Linked-Data-Frames">
<meta property="og:description" content="Use RDF resources in data frames.">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ldf</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="divider">
    <li class="dropdown-header">Linked data frames</li>
    <li>
      <a href="articles/introduction-to-ldf.html">Introduction to LDF</a>
    </li>
    <li>
      <a href="articles/creating-ldf-resources.html">Creating LDF Resources</a>
    </li>
    <li>
      <a href="articles/working-with-ldf-intervals.html">Working with LDF Intervals</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Data cubes</li>
    <li>
      <a href="articles/mapping-statistical-geography.html">Mapping Statistical Geography</a>
    </li>
    <li>
      <a href="articles/tabulate-datacube.html">Tabulating DataCubes</a>
    </li>
    <li>
      <a href="articles/merging-datacubes.html">Merging DataCubes</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Swirrl/linked-data-frames/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="linked-data-frames-ldf-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#linked-data-frames-ldf-" class="anchor"></a>Linked Data Frames (LDF) <img src="reference/figures/logo.png" align="right" height="139">
</h1></div>
<p>Work with linked-data idiomatically in R using data frames.</p>
<p>Linked Data Frames have columns of RDF resources. These resources are expressed as S3 objects with rich descriptions.</p>
<p>We use the <code>vctrs</code> package to encapsulate RDF resources into vectors. This means they can be combined into data frames and dealt with as atomic values while still retaining orthogonal attributes for e.g. their label.</p>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div id="downloading-linked-data-frames" class="section level3">
<h3 class="hasAnchor">
<a href="#downloading-linked-data-frames" class="anchor"></a>Downloading linked data frames</h3>
<p>You can use this package to download linked data frames from the web.</p>
<p>Here we connect to an instance of PublishMyData to download a data cube.</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="kw">cube</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_cube.html">get_cube</a></span>(<span class="st">"http://gss-data.org.uk/data/gss_data/covid-19/ons-online-price-changes-for-high-demand-products#dataset"</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw">cube</span>) <span class="op">%&gt;%</span> <span class="fu">as_tibble</span>()
<span class="co">#&gt; # A tibble: 6 x 5</span>
<span class="co">#&gt;   measure_type reference_period product                  percent unit_of_measure    </span>
<span class="co">#&gt;   &lt;ldf_rsrc&gt;   &lt;ldf_ntrv&gt;       &lt;ldf_rsrc&gt;                 &lt;dbl&gt; &lt;ldf_rsrc&gt;         </span>
<span class="co">#&gt; 1 Percent      2020-03-16 P7D   Antibacterial hand wipes     100 Price Change Indice</span>
<span class="co">#&gt; 2 Percent      2020-03-16 P7D   Antibacterial wipes          100 Price Change Indice</span>
<span class="co">#&gt; 3 Percent      2020-03-16 P7D   Baby food                    100 Price Change Indice</span>
<span class="co">#&gt; 4 Percent      2020-03-16 P7D   Cough and cold               100 Price Change Indice</span>
<span class="co">#&gt; 5 Percent      2020-03-16 P7D   Dried pasta                  100 Price Change Indice</span>
<span class="co">#&gt; 6 Percent      2020-03-16 P7D   Flour                        100 Price Change Indice</span>
</pre></div>
<p>The cube is modelled as a tidy table of observations with a column for each component property. The columns whose values are RDF resources are given a special type: either <code>ldf_resource</code> or <code>ldf_interval</code>.</p>
<p>For examples of how to work with data cubes please see the following vignettes:</p>
<ul>
<li>
<code><a href="articles/mapping-statistical-geography.html">vignette("mapping-statistical-geography")</a></code>: explains how to download geographic resources and use them to plot a thematic map.</li>
<li>
<code><a href="articles/tabulate-datacube.html">vignette("tabulate-datacube")</a></code>: explains how to transform a tidy table of observations by cross-tabulating them back to format used in the original publication.</li>
<li>
<code><a href="articles/merging-datacubes.html">vignette("merging-datacubes")</a></code>: explains how to combine data cubes together to enrich data and create novel analyses.</li>
</ul>
</div>
<div id="modelling-rdf-resources-as-vectors" class="section level3">
<h3 class="hasAnchor">
<a href="#modelling-rdf-resources-as-vectors" class="anchor"></a>Modelling RDF resources as vectors</h3>
<p>Resources in RDF are identified with URIs that are described with a set of statements. Each statement specifies the value of a given property for the resource. We can represent this in R using a character vector for the URIs together with a data frame for the descriptions. That data frame includes a “uri” column to identify the resource being described in each row.</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="kw">uris</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"http://example.net/id/apple"</span>,
          <span class="st">"http://example.net/id/banana"</span>,
          <span class="st">"http://example.net/id/carrot"</span>)
<span class="kw">labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Apple"</span>,<span class="st">"Banana"</span>,<span class="st">"Carrot"</span>)
<span class="kw">descriptions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(uri=<span class="kw">uris</span>, label=<span class="kw">labels</span>)

<span class="kw">food</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/resource.html">resource</a></span>(<span class="kw">uris</span>, <span class="kw">descriptions</span>)
</pre></div>
<p>The <code><a href="reference/resource.html">resource()</a></code> constructor returns a <code>ldf_resource</code> object that has a variety of methods defined on it, including the <code><a href="https://rdrr.io/r/base/format.html">format()</a></code> generic which allows us to use the labels instead of the URIs when printing to the console.</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="kw">food</span>

<span class="co">#&gt; &lt;ldf_resource[3]&gt;</span>
<span class="co">#&gt; [1] Apple  Banana Carrot</span>
</pre></div>
<p>For a complete introduction to the LDF library please see the following vignettes:</p>
<ul>
<li>
<code><a href="articles/introduction-to-ldf.html">vignette("introduction-to-ldf")</a></code>: explains how resources are represented and introduces functions like <code><a href="reference/description.html">description()</a></code>, <code><a href="reference/property.html">property()</a></code> and <code><a href="reference/curie.html">curie()</a></code> that are available for working with them;</li>
<li>
<code><a href="articles/creating-ldf-resources.html">vignette("creating-ldf-resources")</a></code>: explains how to create resources from SPARQL queries or RDF files;</li>
<li>
<code><a href="articles/working-with-ldf-intervals.html">vignette("working-with-ldf-intervals")</a></code>: explains how to create interval resources from URIs and use them to plot a time series chart;</li>
</ul>
</div>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You’ll need to use devtools to install this package from github:</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"devtools"</span>)
<span class="kw">devtools</span>::<span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"Swirrl/linked-data-frames"</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw"><a href="https://swirrl.github.io/linked-data-frames">ldf</a></span>)
</pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/Swirrl/linked-data-frames/">https://​github.com/​Swirrl/​linked-data-frames/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/Swirrl/linked-data-frames/issues">https://​github.com/​Swirrl/​linked-data-frames/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="http://infonomics.ltd.uk">Robin Gower</a> <br><small class="roles"> Author, maintainer </small>  </li>
<li>
<a href="https://www.swirrl.com"><img src="https://www.swirrl.com/icons/icon-512x512.png" height="24"> Swirrl</a> <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="http://infonomics.ltd.uk">Robin Gower</a>, <a href="https://www.swirrl.com"><img src="https://www.swirrl.com/icons/icon-512x512.png" height="24"> Swirrl</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
